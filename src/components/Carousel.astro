---
import CarouselScript from "./Carousel.tsx";

import fs from "fs";
import path from "path";

// props
const { folderName } = Astro.props;

// resolve folder inside `public/`
const imagesDir = path.join(process.cwd(), "public", folderName);

// read all files in that folder
let images: string[] = [];
try {
  images = fs.readdirSync(imagesDir).map((file) => `/${folderName}/${file}`);
} catch (e) {
  console.error(`⚠️ Could not load images from /public/${folderName}`);
}
---

<CarouselScript images={images} visibleCount={3} client:visible />
